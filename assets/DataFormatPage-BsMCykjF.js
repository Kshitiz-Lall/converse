import{e as le,r as m,j as e,L as y,H as re,A as ie,B as c,f as w,U as oe,S as X,g as z,h as P,i as _,k as R,T as V,l as x,m as ne,D as Y,n as ce,o as de,p as me,q as he,s as pe,v as C,w as F,C as S,x as k,y as t,F as T}from"./index-DKgF71w0.js";import{c as ue,f as xe,d as je,a as be,b as fe}from"./converter-DMWRRJSZ.js";import{T as B}from"./trash-2-BtuitG_V.js";import{C as j}from"./circle-x-C5sI0Fiz.js";import{C as H}from"./circle-check-big-C4a9-WjG.js";/**
 * @license lucide-react v0.479.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ge=[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]],ve=le("LogIn",ge),g=[{value:"json",label:"JSON",extension:"json",placeholder:"Enter your JSON here..."},{value:"yaml",label:"YAML",extension:"yaml",placeholder:"Enter your YAML here..."},{value:"xml",label:"XML",extension:"xml",placeholder:"Enter your XML here..."}],Ne={json:JSON.stringify({person:{name:"John Doe",age:30,address:{street:"123 Main St",city:"Anytown",state:"CA"},hobbies:["reading","hiking","coding"]}},null,2),yaml:`person:
  name: John Doe
  age: 30
  address:
    street: 123 Main St
    city: Anytown
    state: CA
  hobbies:
    - reading
    - hiking
    - coding`,xml:`<?xml version="1.0" encoding="UTF-8"?>
<person>
  <name>John Doe</name>
  <age>30</age>
  <address>
    <street>123 Main St</street>
    <city>Anytown</city>
    <state>CA</state>
  </address>
  <hobbies>
    <hobby>reading</hobby>
    <hobby>hiking</hobby>
    <hobby>coding</hobby>
  </hobbies>
</person>`},i={title:"Data Format Converter",input:"Input",output:"Output",convert:"Convert",about:{title:"About This Tool",description:"This Data Format Converter allows you to easily convert between JSON, YAML, and XML formats. It's perfect for developers working with APIs, configuration files, or data transformation tasks.",features:["Convert between JSON, YAML, and XML","Format and beautify your data","Upload files for conversion","Download converted data","Copy results to clipboard"]},examples:{title:"Example Data",description:"Try these examples by clicking on them:"},help:{title:"How to Use",steps:["Select your input format (JSON, YAML, or XML)","Enter or paste your data in the input field","Select your desired output format","Click the Convert button","View, copy, or download the converted result"],tips:["Use the Format button to beautify your input","Upload files directly by clicking the upload button","Clear the form at any time with the clear button","Use the swap button to quickly convert back and forth"]}};function ke(){var O;const[h,u]=m.useState(""),[n,b]=m.useState(""),[o,f]=m.useState("json"),[d,A]=m.useState("yaml"),[U,p]=m.useState(null),[q,D]=m.useState(!1),[l,L]=m.useState(!1),[r,I]=m.useState(!1),G=localStorage.getItem("auth_token")||sessionStorage.getItem("auth_token"),M=async()=>{p(null),L(!0),t.loading("Converting data...",{id:"convert-data",description:`${o.toUpperCase()} → ${d.toUpperCase()}`});try{const{result:s,error:a}=await ue(h,o,d);a?(p(a),b(""),t.error("Conversion failed",{id:"convert-data",description:a,icon:e.jsx(j,{className:"h-4 w-4"})})):(b(s),t.success("Conversion complete",{id:"convert-data",description:`${o.toUpperCase()} → ${d.toUpperCase()}`,icon:e.jsx(H,{className:"h-4 w-4"})}))}catch{const a="An unexpected error occurred during conversion";p(a),b(""),t.error("Conversion failed",{id:"convert-data",description:a,icon:e.jsx(j,{className:"h-4 w-4"})})}finally{L(!1)}},K=async()=>{p(null),I(!0),t.loading("Formatting data...",{id:"format-data",description:o.toUpperCase()});try{const{result:s,error:a}=await xe(h,o);a?(p(a),t.error("Formatting failed",{id:"format-data",description:a,icon:e.jsx(j,{className:"h-4 w-4"})})):(u(s),t.success("Data formatted",{id:"format-data",description:`${o.toUpperCase()} formatted successfully`,icon:e.jsx(H,{className:"h-4 w-4"})}))}catch{const a="An unexpected error occurred during formatting";p(a),t.error("Formatting failed",{id:"format-data",description:a,icon:e.jsx(j,{className:"h-4 w-4"})})}finally{I(!1)}},Q=s=>{var $;const a=($=s.target.files)==null?void 0:$[0];if(!a)return;t.loading("Reading file...",{id:"file-upload"});const v=new FileReader;v.onload=ae=>{var J;const te=(J=ae.target)==null?void 0:J.result;u(te);const N=je(a.name);N?(f(N),t.success("File loaded successfully",{id:"file-upload",description:`${a.name} (${N.toUpperCase()})`,icon:e.jsx(T,{className:"h-4 w-4"})})):t.success("File loaded successfully",{id:"file-upload",description:a.name,icon:e.jsx(T,{className:"h-4 w-4"})})},v.onerror=()=>{t.error("Failed to read file",{id:"file-upload",description:"Please try another file",icon:e.jsx(j,{className:"h-4 w-4"})})},v.readAsText(a),s.target.value=""},W=()=>{n&&(be(n,d),t.success("File downloaded",{description:`${d.toUpperCase()} file saved`,icon:e.jsx(Y,{className:"h-4 w-4"})}))},Z=async()=>{if(!n)return;await fe(n)?(D(!0),setTimeout(()=>D(!1),2e3),t.success("Copied to clipboard",{icon:e.jsx(w,{className:"h-4 w-4"})})):t.error("Failed to copy to clipboard",{icon:e.jsx(j,{className:"h-4 w-4"})})},ee=()=>{!h&&!n||(u(""),b(""),p(null),t.info("Content cleared",{description:"Input and output have been cleared",icon:e.jsx(B,{className:"h-4 w-4"})}))},E=()=>{f(d),A(o),n?(u(n),b(""),t.info("Formats swapped",{description:`Input: ${d.toUpperCase()}, Output: ${o.toUpperCase()}`,icon:e.jsx(x,{className:"h-4 w-4"})})):t.info("Formats swapped",{description:`Input: ${d.toUpperCase()}, Output: ${o.toUpperCase()}`,icon:e.jsx(x,{className:"h-4 w-4"})})},se=s=>{f(s),u(Ne[s]),t.success("Example loaded",{description:`${s.toUpperCase()} example loaded`,icon:e.jsx(T,{className:"h-4 w-4"})})};return e.jsx("div",{className:"min-h-screen",children:e.jsxs("div",{className:"container mx-auto p-4 py-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-8",children:[G?e.jsxs(y,{to:"/dashboard",className:"flex items-center text-primary hover:text-primary/80 transition-colors",children:[e.jsx(re,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Back to Dashboard"})]}):e.jsxs(y,{to:"/login",className:"flex items-center text-primary hover:text-primary/80 transition-colors",children:[e.jsx(ve,{className:"h-5 w-5 mr-2"}),e.jsx("span",{children:"Sign In"})]}),e.jsx("h1",{className:"text-3xl font-bold text-center",children:i.title}),e.jsxs(y,{to:"/data-format/docs",className:"flex items-center text-primary hover:text-primary/80 transition-colors",children:[e.jsx("span",{children:"Goto Documentation"}),e.jsx(ie,{className:"h-5 w-5 ml-2"})]})]}),e.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[e.jsxs("div",{className:"flex flex-col gap-4 rounded-lg shadow-md p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:i.input}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"icon",onClick:K,title:"Format",className:"hover:bg-primary/10",disabled:r||!h,children:r?e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-t-2 border-primary"}):e.jsx(w,{className:"h-4 w-4"})}),e.jsx(c,{variant:"outline",size:"icon",onClick:ee,title:"Clear",className:"hover:bg-red-50",disabled:l||r,children:e.jsx(B,{className:"h-4 w-4"})}),e.jsx("div",{className:"relative",children:e.jsxs(c,{variant:"outline",size:"icon",className:"relative hover:bg-blue-50",title:"Upload File",disabled:l||r,children:[e.jsx(oe,{className:"h-4 w-4"}),e.jsx("input",{type:"file",className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer",onChange:Q,accept:".json,.yaml,.yml,.xml",disabled:l||r})]})})]})]}),e.jsxs(X,{value:o,onValueChange:s=>f(s),disabled:l||r,children:[e.jsx(z,{className:" border",children:e.jsx(P,{placeholder:"Select input format"})}),e.jsx(_,{children:g.map(s=>e.jsx(R,{value:s.value,children:s.label},s.value))})]}),e.jsx(V,{placeholder:((O=g.find(s=>s.value===o))==null?void 0:O.placeholder)||"Enter your data here...",className:"min-h-[300px] font-mono text-sm  border",value:h,onChange:s=>u(s.target.value),disabled:l||r})]}),e.jsx("div",{className:"flex items-center justify-center md:hidden",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:M,className:"flex gap-2 bg-primary hover:bg-primary/90",disabled:l||r||!h,children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-t-2 border-white"}),"Converting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"h-4 w-4"}),i.convert]})}),e.jsx(c,{variant:"outline",size:"icon",onClick:E,title:"Swap Formats",disabled:l||r,children:e.jsx(x,{className:"h-4 w-4"})})]})}),e.jsxs("div",{className:"flex flex-col gap-4 rounded-lg shadow-md p-5",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("h2",{className:"text-xl font-semibold",children:i.output}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{variant:"outline",size:"icon",onClick:Z,disabled:!n||l,title:"Copy to Clipboard",className:"hover:bg-green-50",children:q?e.jsx(w,{className:"h-4 w-4 text-green-500"}):e.jsx(ne,{className:"h-4 w-4"})}),e.jsx(c,{variant:"outline",size:"icon",onClick:W,disabled:!n||l,title:"Download",className:"hover:bg-blue-50",children:e.jsx(Y,{className:"h-4 w-4"})})]})]}),e.jsxs(X,{value:d,onValueChange:s=>A(s),disabled:l||r,children:[e.jsx(z,{className:" border",children:e.jsx(P,{placeholder:"Select output format"})}),e.jsx(_,{children:g.map(s=>e.jsx(R,{value:s.value,children:s.label},s.value))})]}),e.jsx(V,{placeholder:"Converted output will appear here...",className:"min-h-[300px] font-mono text-sm  border",value:n,readOnly:!0})]})]}),e.jsx("div",{className:"hidden md:flex justify-center mt-6 mb-6",children:e.jsxs("div",{className:"flex gap-2",children:[e.jsx(c,{onClick:M,className:"flex gap-2 bg-primary hover:bg-primary/90",disabled:l||r||!h,children:l?e.jsxs(e.Fragment,{children:[e.jsx("div",{className:"h-4 w-4 animate-spin rounded-full border-b-2 border-t-2 border-white"}),"Converting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(x,{className:"h-4 w-4"}),i.convert]})}),e.jsx(c,{variant:"outline",size:"icon",onClick:E,title:"Swap Formats",disabled:l||r,children:e.jsx(x,{className:"h-4 w-4"})})]})}),U&&e.jsxs(ce,{variant:"destructive",className:"mt-6",children:[e.jsx(de,{className:"h-4 w-4"}),e.jsx(me,{children:U})]}),e.jsxs(he,{defaultValue:"about",className:"mt-8",children:[e.jsxs(pe,{className:"grid w-full grid-cols-3",children:[e.jsx(C,{value:"about",children:"About"}),e.jsx(C,{value:"examples",children:"Examples"}),e.jsx(C,{value:"help",children:"Help"})]}),e.jsx(F,{value:"about",children:e.jsx(S,{children:e.jsxs(k,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:i.about.title}),e.jsx("p",{className:"mb-4",children:i.about.description}),e.jsx("h4",{className:"font-medium mb-2",children:"Features:"}),e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:i.about.features.map((s,a)=>e.jsx("li",{children:s},a))})]})})}),e.jsx(F,{value:"examples",children:e.jsx(S,{children:e.jsxs(k,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:i.examples.title}),e.jsx("p",{className:"mb-2",children:i.examples.description}),e.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4 mt-4",children:g.map(s=>e.jsxs(c,{variant:"outline",onClick:()=>se(s.value),disabled:l||r,children:[s.label," Example"]},s.value))})]})})}),e.jsx(F,{value:"help",children:e.jsx(S,{children:e.jsxs(k,{className:"pt-6",children:[e.jsx("h3",{className:"text-lg font-semibold mb-2",children:i.help.title}),e.jsx("ol",{className:"list-decimal pl-5 space-y-2",children:i.help.steps.map((s,a)=>e.jsx("li",{children:s},a))}),e.jsx("h4",{className:"font-medium mt-4 mb-2",children:"Tips:"}),e.jsx("ul",{className:"list-disc pl-5 space-y-1",children:i.help.tips.map((s,a)=>e.jsx("li",{children:s},a))})]})})})]})]})})}export{ke as default};
